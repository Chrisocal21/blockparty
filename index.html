<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>South O's Block Party Photos</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@600;800&display=swap" rel="stylesheet">
    <style>
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
        font-family: 'Inter', Arial, sans-serif;
        background: #fffbe9;
        color: #1a1a1a;
        min-height: 100vh;
        -webkit-tap-highlight-color: transparent;
      }
      body {
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        background: linear-gradient(135deg, #fffbe9 0%, #ffe6e6 100%);
      }
      .container {
        width: 100vw;
        max-width: 480px;
        margin: 0 auto;
        padding: 0 0 32px 0;
        display: flex;
        flex-direction: column;
        min-height: 100vh;
      }
      .header {
        text-align: center;
        padding: 32px 16px 36px 16px;
        background: #fff;
        border-bottom: 4px solid #ffb347;
        border-radius: 0 0 32px 32px;
        box-shadow: 0 4px 24px rgba(255,179,71,0.08);
      }
      .header h1 {
        font-size: 2.4rem;
        font-weight: 800;
        margin: 0 0 8px 0;
        color: #ff7f50;
        letter-spacing: 1px;
      }
      .header .subtitle {
        font-size: 1.3rem;
        font-weight: 600;
        color: #1a1a1a;
        margin-bottom: 8px;
      }
      .header p {
        font-size: 1.1rem;
        color: #444;
        margin: 0;
      }
      .auth-section, .upload-section {
        background: #fff;
        border-radius: 24px;
        box-shadow: 0 2px 16px rgba(255,179,71,0.10);
        margin: 24px 16px 0 16px;
        padding: 32px 20px 24px 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      .auth-section h3 {
        font-size: 1.5rem;
        font-weight: 700;
        margin-bottom: 12px;
      }
      .google-btn {
        background: linear-gradient(90deg, #ffb347 0%, #ff7f50 100%);
        color: #fff;
        border: none;
        border-radius: 16px;
        font-size: 1.3rem;
        font-weight: 700;
        padding: 22px 0;
        width: 100%;
        margin-top: 18px;
        box-shadow: 0 2px 8px rgba(255,179,71,0.10);
        transition: background 0.2s, transform 0.1s;
        cursor: pointer;
      }
      .google-btn:active {
        background: linear-gradient(90deg, #ff7f50 0%, #ffb347 100%);
        transform: scale(0.98);
      }
      .upload-section {
        display: none;
      }
      .upload-section.active {
        display: flex;
      }
      .upload-buttons {
        width: 100%;
        display: flex;
        flex-direction: column;
        gap: 20px;
        margin-bottom: 18px;
      }
      .upload-btn {
        background: #ffb347;
        color: #fff;
        border: none;
        border-radius: 16px;
        font-size: 1.2rem;
        font-weight: 700;
        padding: 20px 0;
        width: 100%;
        box-shadow: 0 2px 8px rgba(255,179,71,0.10);
        transition: background 0.2s, transform 0.1s;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
      }
      .upload-btn:active {
        background: #ff7f50;
        transform: scale(0.98);
      }
      .file-input {
        display: none;
      }
      .loading-state {
        display: none;
        text-align: center;
        padding: 18px 0 0 0;
        color: #ff7f50;
        font-size: 1.2rem;
        font-weight: 600;
      }
      .loading-state.active {
        display: block;
      }
      .loading-spinner {
        display: inline-block;
        width: 32px;
        height: 32px;
        border: 4px solid #ffe6e6;
        border-radius: 50%;
        border-top-color: #ff7f50;
        animation: spin 1s ease-in-out infinite;
        margin-bottom: 10px;
      }
      @keyframes spin {
        to { transform: rotate(360deg); }
      }
      .success-message {
        display: none;
        background: #eaffea;
        color: #1a1a1a;
        padding: 18px 0;
        border-radius: 12px;
        margin-top: 18px;
        text-align: center;
        font-weight: 700;
        font-size: 1.2rem;
        box-shadow: 0 2px 8px rgba(71,255,179,0.10);
      }
      .success-message.active {
        display: block;
      }
      .info-section {
        background: #fff;
        border-radius: 18px;
        box-shadow: 0 2px 8px rgba(255,179,71,0.10);
        margin: 24px 16px 0 16px;
        padding: 24px 18px 18px 18px;
        text-align: center;
        font-size: 1.1rem;
        color: #444;
      }
      .info-section h3 {
        color: #ff7f50;
        font-size: 1.3rem;
        font-weight: 700;
        margin-bottom: 10px;
      }
      .camera-modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0,0,0,0.92);
        z-index: 1000;
        padding: 0;
        align-items: center;
        justify-content: center;
      }
      .camera-modal.active {
        display: flex;
      }
      .camera-container {
        width: 100vw;
        max-width: 420px;
        margin: 0 auto;
        display: flex;
        flex-direction: column;
        gap: 16px;
        align-items: center;
        justify-content: center;
      }
      .camera-preview {
        width: 100%;
        height: 320px;
        object-fit: cover;
        border-radius: 16px;
        background: #333;
      }
      .camera-controls {
        display: flex;
        gap: 16px;
        width: 100%;
      }
      .camera-controls button {
        flex: 1;
        padding: 18px 0;
        font-size: 1.2rem;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        font-weight: 700;
        background: #ffb347;
        color: #fff;
        transition: background 0.2s, transform 0.1s;
      }
      .camera-controls .capture-btn {
        background: #ff7f50;
      }
      .camera-controls button:active {
        background: #ff7f50;
        transform: scale(0.98);
      }
      @media (max-width: 600px) {
        .container {
          padding: 0 0 16px 0;
        }
        .header {
          padding: 24px 8px 12px 8px;
        }
        .auth-section, .upload-section, .info-section {
          margin: 18px 4px 0 4px;
          padding: 20px 8px 14px 8px;
        }
        .camera-container {
          max-width: 98vw;
        }
        .camera-preview {
          height: 220px;
        }
      }
    </style>
</head>
<body>
    <div class="container">
      <div class="header">
        <h1>South O's</h1>
        <div class="subtitle">Block Party Photos</div>
        <p>Share your favorite moments! Mobile only.</p>
      </div>
      <!-- Authentication Section -->
      <div class="auth-section" id="authSection">
        <h3>Connect to Share Photos</h3>
        <button class="google-btn" onclick="signInWithGoogle()">
          ðŸ“¸ Connect Google Drive
        </button>
      </div>
      <!-- Upload Section (hidden until authenticated) -->
      <div class="upload-section" id="uploadSection">
        <div class="upload-buttons">
          <button class="upload-btn camera-btn" onclick="openCamera()">
            ðŸ“¸ Take a Photo
          </button>
          <button class="upload-btn" onclick="document.getElementById('fileInput').click()">
            ðŸ“± Upload from Phone
          </button>
          <input type="file" id="fileInput" class="file-input" accept="image/*,video/*" onchange="handleFileUpload(event)" multiple>
        </div>
        <progress id="uploadProgressBar" value="0" max="100" style="display:none;width:100%;margin-bottom:12px;"></progress>
        <div class="loading-state" id="loadingState">
          <div class="loading-spinner"></div>
          Uploading to Google Drive...
        </div>
        <div class="success-message" id="successMessage">
          ðŸ“· Upload successful! Thanks for sharing!
        </div>
      </div>
      <!-- About & How it Works Section (dropdown, professional) -->
      <details id="aboutInfoSection" style="max-width:600px;margin:0 auto 0 auto;padding:0 0 0 0;background:none;border-radius:16px;box-shadow:none;color:#444;text-align:center;">
        <summary style="font-size:1.15rem;font-weight:700;color:#ff7f50;cursor:pointer;padding:18px 0;outline:none;user-select:none;">About This App & How It Works</summary>
        <div style="background:#fff;border-radius:16px;box-shadow:0 2px 8px rgba(255,179,71,0.10);padding:24px 16px 12px 16px;margin-top:8px;margin-bottom:0;text-align:left;max-width:480px;margin-left:auto;margin-right:auto;">
          <p style="font-size:1.08rem;margin-bottom:10px;"><strong>Welcome to South O's Block Party Photos!</strong> We invite you to share your best moments from the eventâ€”fun, band, dancing, food, and people photos are all welcome. Help us capture the spirit of the block party!</p>
          <ul style="margin-bottom:14px;">
            <li><strong>Easy Upload:</strong> Connect your Google Drive and upload photos or videos directlyâ€”no app download required.</li>
            <li><strong>Privacy First:</strong> We only request permission to upload your selected files. Your other Drive content remains private.</li>
            <li><strong>Official & Secure:</strong> This app is managed by the event organizers and hosted on our verified domain: <a href="https://www.southoblockparty.com" style="color:#ff7f50;">southoblockparty.com</a>.</li>
            <li><strong>Transparency:</strong> See our <a href="privacy.html" style="color:#ff7f50;">Privacy Policy</a> for details on data use. This page and our privacy policy are public and do not require login.</li>
            <li><strong>Questions?</strong> Please contact the organizers at the event.</li>
          </ul>
          <p style="font-size:1.01rem;color:#888;margin-top:10px;">Thank you for helping us make lasting memories!</p>
        </div>
      </details>
    </div>
    <footer style="display:flex;justify-content:center;align-items:center;gap:18px;margin:12px 0 48px 0;color:#888;font-size:1rem;min-height:48px;">
      <a href="/privacy" style="color:#ff7f50;">Privacy Policy</a>
      <a href="/terms" style="color:#ff7f50;">Terms of Service</a>
    </footer>
    <!-- Camera Modal -->
    <div class="camera-modal" id="cameraModal">
      <div class="camera-container">
        <video class="camera-preview" id="cameraPreview" autoplay playsinline></video>
        <div class="camera-controls">
          <button class="capture-btn" onclick="capturePhoto()">Capture</button>
          <button class="cancel-btn" onclick="closeCamera()">Cancel</button>
        </div>
      </div>
    </div>
    <!-- Google APIs -->
    <script src="https://apis.google.com/js/api.js"></script>
    <script src="https://accounts.google.com/gsi/client"></script>
    <script src="app.js"></script>
</body>
</html>
